<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Malla Abogacía Vertical</title>
  <style>
    body {
      background: linear-gradient(to bottom, #fde6fa, #f3e6fd);
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      color: #6c3483;
    }

    header {
      background: linear-gradient(90deg, #f9d2e6 0%, #e5d0fa 100%);
      text-align: center;
      padding: 24px 0;
      font-size: 2rem;
      font-weight: bold;
      color: #6c3483;
      box-shadow: 0 4px 8px rgba(0,0,0,0.05);
    }

    .malla-container {
      display: flex;
      overflow-x: auto;
      padding: 32px;
      gap: 24px;
    }

    .anio {
      min-width: 220px;
      background: #fff0fa;
      border-radius: 16px;
      padding: 16px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .anio h2 {
      text-align: center;
      font-size: 1.2rem;
      margin-bottom: 8px;
      color: #a64ca6;
    }

    .cuatrimestre {
      background: #fce7fa;
      border-radius: 10px;
      padding: 10px;
    }

    .cuatrimestre h3 {
      font-size: 1rem;
      margin-bottom: 8px;
      color: #9c27b0;
    }

    .materia {
      background: linear-gradient(135deg, #ffe6f0, #f0dbfc);
      border: 1px solid #e8d2f1;
      border-radius: 10px;
      padding: 10px;
      margin-bottom: 8px;
      cursor: pointer;
      opacity: 0.5;
      transition: all 0.2s;
    }

    .materia.desbloqueada {
      opacity: 1;
      box-shadow: 0 0 4px #e6b8fa;
    }

    .materia.aprobada {
      text-decoration: line-through;
      background: #e9d6ff;
      color: #6e2ca9;
      opacity: 1;
    }

    .leyenda {
      display: flex;
      justify-content: center;
      gap: 16px;
      margin: 16px;
      background: #fce7fa;
      padding: 10px 20px;
      border-radius: 10px;
    }

    .cuadro {
      width: 16px;
      height: 16px;
      display: inline-block;
      margin-right: 6px;
      border: 1px solid #b39ddb;
      border-radius: 4px;
    }

    .rosa { background: #ffd1eb; }
    .violeta { background: #d8b6ff; }
    .gris { background: #ececec; }

    .reset-btn {
      margin-left: auto;
      background: #e8c0ff;
      border: none;
      color: #6c3483;
      padding: 6px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>Malla Interactiva Abogacía</header>
  <div class="leyenda">
    <span><span class="cuadro rosa"></span> Desbloqueada</span>
    <span><span class="cuadro violeta"></span> Aprobada</span>
    <span><span class="cuadro gris"></span> Bloqueada</span>
    <button class="reset-btn" onclick="resetearMalla()">Reiniciar</button>
  </div>

  <div class="malla-container" id="mallaContainer"></div>

  <script>
    const materias = [
     // 1er Año
    {anio:1, nombre: "Contenidos Transversales para la Construcción de la Ciudadanía", tipo: "oblig", anio: 1, cuatri: 1, correl: [] },
    {anio:1, nombre: "Historia del Pensamiento Político y Jurídico", tipo: "oblig", anio: 1, cuatri: 1, correl: [] },
    {anio:1, nombre: "Teoría del Derecho y la Justicia", tipo: "oblig", anio: 1, cuatri: 1, correl: [] },
    {anio:1, nombre: "Teoría del Estado", tipo: "oblig", anio: 1, cuatri: 2, correl: [] },
    {anio:1, nombre: "Nociones de Economía", tipo: "oblig", anio: 1, cuatri: 2, correl: [] },
    {anio:1, nombre: "Destrezas I: Investigación y Escritura Jurídicas Básicas", tipo: "destrezas", anio: 1, cuatri: 2, correl: [] },

    // 2do Año
    {anio:2, nombre: "Lógica", tipo: "oblig", anio: 1, cuatri: 1, correl: ["Contenidos Transversales para la Construcción de la Ciudadanía", "Historia del Pensamiento Político y Jurídico", "Teoría del Derecho y la Justicia"] },
    {anio:2, nombre: "Derecho Privado: Teoría de la Rel. Juríd. y de la Persona", tipo: "oblig", anio: 2, cuatri: 1, correl: ["Contenidos Transversales para la Construcción de la Ciudadanía","Teoría del Derecho y la Justicia", "Nociones de Economía","Destrezas I: Investigación y Escritura Jurídicas Básicas"] },
    {anio:2, nombre: "Derecho Penal I Parte General", tipo: "oblig", anio: 2, cuatri: 2, correl: ["Derecho Constitucional"] },
    {anio:2, nombre: "Derecho Constitucional", tipo: "oblig", anio: 2, cuatri: 1, correl: ["Contenidos Transversales para la Construcción de la Ciudadanía", "Historia del Pensamiento Político y Jurídico", "Teoría del Estado", "Teoría del Derecho y la Justicia"] },
    {anio:2, nombre: "Obligaciones Civiles y Comerciales", tipo: "oblig", anio: 2, cuatri: 2, correl: ["Derecho Privado: Teoría de la Rel. Juríd. y de la Persona"] },
    {anio:2, nombre: "Nociones de Sociología", tipo: "oblig", anio: 2, cuatri: 2, correl: ["Contenidos Transversales para la Construcción de Ciudadanía", "Historia del Pensamiento Político y Jurídico", "Teoría del Estado"] },

    // 3er Año
    {anio:3,nombre: "Contratos", tipo: "oblig", anio: 3, cuatri: 1, correl: ["Obligaciones Civiles y Comerciales"] },
    {anio:3, nombre: "Derecho Penal II Parte Especial", tipo: "oblig", anio: 3, cuatri: 1, correl: ["Derecho Penal I Parte General"] },
    {anio:3, nombre: "Optativa I", tipo: "optativa", anio: 3, cuatri: 1, correl: [] },
    {anio:3, nombre: "Derecho Procesal I: Teoría General del Proceso y Proceso Penal", tipo: "oblig", anio: 3, cuatri: 2, correl: ["Derecho Constitucional", "Derecho Privado: Teoría de la Rel. Juríd. y de la Persona", "Derecho Penal II Parte Especial"] },
    {anio:3, nombre: "Derecho de la Empresa y los Negocios", tipo: "oblig", anio: 3, cuatri: 2, correl: ["Contratos"] },
    {anio:3, nombre: "Derechos Humanos", tipo: "oblig", anio: 3, cuatri: 2, correl: ["Derecho Constitucional"] },
    {anio:3, nombre: "Destrezas II: Argumentación Oral y Escrita", tipo: "destrezas", anio: 3, cuatri: 2, correl: ["Destrezas I: Investigación y Escritura Jurídicas Básicas","Lógica","Nociones de Sociología"] },


    // 4to Año
    {anio:4, nombre: "Derecho Societario y Derecho Cambiario", tipo: "oblig", anio: 4, cuatri: 1, correl: ["Derecho de la Empresa y los Negocios"] },
    {anio:4, nombre: "Derecho Procesal II: Proceso Civil y Comercial", tipo: "oblig", anio: 4, cuatri: 1, correl: ["Derecho Procesal I: Teoría General del Proceso y Proceso Penal", "Obligaciones Civiles y Comerciales"] },
    {anio:4, nombre: "Derecho Ambiental", tipo: "oblig", anio: 4, cuatri: 1, correl: ["Derecho Constitucional", "Contratos"] },
    {anio:4, nombre: "Optativa II", tipo: "optativa", anio: 4, cuatri: 1, correl: [] },
    {anio:4, nombre: "Derecho Reales", tipo: "oblig", anio: 4, cuatri: 2, correl: ["Derecho Constitucional", "Contratos"] },
    {anio:4, nombre: "Derechos del Consumidor", tipo: "oblig", anio: 4, cuatri: 2, correl: ["Derecho Constitucional", "Contratos"] },
    {anio:4, nombre: "Destrezas III: Investigación Jurídica", tipo: "destrezas", anio: 4, cuatri: 2, correl: ["Obligaciones Civiles y Comerciales", "Destrezas II: Argumentación Oral y Escrita", "Derecho Penal I Parte General"] },
    {anio:4, nombre: "Derecho del trabajo y derecho de la seguridad social", tipo: "oblig", anio:4, cuatri:2, correl: ["Derecho Constitucional", "Contratos"] },
    

    // 5to Año
    {anio:5, nombre: "Filosofía del Derecho", tipo: "oblig", anio: 5, cuatri: 1, correl: ["Derechos Humanos","Nociones de Sociología"] },
    {anio:5, nombre: "Derecho de Familia y de las Sucesiones", tipo: "oblig", anio: 5, cuatri: 1, correl: ["Derecho Reales","Derecho Procesal I: Teoría General del Proceso y Proceso Penal"] },
    {anio:5, nombre: "Derecho del Transporte", tipo: "oblig", anio: 5, cuatri: 1, correl: ["Derecho de la Empresa y los Negocios"] },
    {anio:5, nombre: "Derecho Administrativo", tipo: "oblig", anio: 5, cuatri: 2, correl: ["derechos reales", "Derecho Procesal II: Proceso Civil y Comercial"] },
    {anio:5, nombre: "Optativa III", tipo: "optativa", anio: 5, cuatri: 2, correl: [] },
    {anio:5, nombre: "concursos y privilegios", tipo: "oblig", anio: 5, cuatri: 2, correl: ["Derecho Societario y Derecho Cambiario",  "Derecho Procesal I: Teoría General del Proceso y Proceso Penal"] },
    {anio:5, nombre: "Destrezas IV: Habilidades para el Litigio", tipo: "destrezas", anio: 5, cuatri: 2, correl: ["Destrezas III: Investigación Jurídica", "Contratos", "Derecho Procesal I: Teoría General del Proceso y Proceso Penal"] },

    // 6to Año
    {anio:6,  nombre: "Derecho Internacional Público y Politica exterior", tipo: "oblig", anio: 6, cuatri: 1, correl: ["Derechos humanos"] },
    {anio:6,  nombre: "Derecho Tributario y Derecho Financiero", tipo: "oblig", anio: 6, cuatri: 1, correl: ["Derecho Administrativo"] },
    {anio:6,  nombre: "Optativa IV", tipo: "optativa", anio: 6, cuatri: 1, correl: [] },
    {anio:6,  nombre: "optativa V", tipo: "optativa", anio: 6, cuatri: 2, correl: [] },
    {anio:6,  nombre: "Destrezas V: Práctica Profesional Aplicada", tipo: "destrezas", anio: 6, cuatri: 1, correl: ["Derecho de Familia y de las Sucesiones", "Derecho Procesal II: Proceso Civil y Comercial","Destrezas IV: Habilidades para el Litigio"] },
    {anio:6,  nombre: "Derecho Internacional Privado", tipo: "oblig", anio: 6, cuatri: 2, correl: ["Derecho de Familia y de las Sucesiones","concursos y privilegios"] },
    ];

    const STORAGE_KEY = "malla_abogacia_vertical";

    function guardar(aprobadas) {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(aprobadas));
    }

    function cargar() {
      const data = localStorage.getItem(STORAGE_KEY);
      return data ? JSON.parse(data) : [];
    }

    function resetearMalla() {
      if (confirm("¿Seguro que querés reiniciar tu progreso?")) {
        localStorage.removeItem(STORAGE_KEY);
        render();
      }
    }

    function render() {
      const container = document.getElementById("mallaContainer");
      container.innerHTML = "";
      const aprobadas = cargar();
      for (let anio = 1; anio <= 6; anio++) {
        const col = document.createElement("div");
        col.className = "anio";
        col.innerHTML = `<h2>${anio}º Año</h2>`;

        for (let cuatri = 1; cuatri <= 2; cuatri++) {
          const box = document.createElement("div");
          box.className = "cuatrimestre";
          box.innerHTML = `<h3>${cuatri}º Cuatrimestre</h3>`;
          const materiasCuatri = materias.filter(m => m.anio === anio && m.cuatri === cuatri);

          materiasCuatri.forEach(mat => {
            const div = document.createElement("div");
            div.className = "materia desbloqueada";
            if (aprobadas.includes(mat.nombre)) {
              div.classList.add("aprobada");
            }
            div.textContent = mat.nombre;
            div.onclick = () => {
              if (aprobadas.includes(mat.nombre)) {
                const i = aprobadas.indexOf(mat.nombre);
                aprobadas.splice(i, 1);
              } else {
                aprobadas.push(mat.nombre);
              }
              guardar(aprobadas);
              render();
            };
            box.appendChild(div);
          });

          col.appendChild(box);
        }
        container.appendChild(col);
      }
    }

    render();
  </script>
</body>
</html>

