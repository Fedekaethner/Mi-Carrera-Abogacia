<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AbogacÃ­a - UNT âœ¨</title>
  <style>
    body {
      background-color: #fff;
      font-family: 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 0;
      color: #4a235a;
    }
    header {
      background: #fce4ec;
      color: #ad1457;
      padding: 24px 0;
      text-align: center;
      font-size: 2rem;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(240, 180, 200, 0.5);
    }
    .malla-container {
      max-width: 1200px;
      margin: 20px auto;
      padding: 20px;
    }
    .anio h2 {
      background: #f8bbd0;
      color: #880e4f;
      padding: 10px;
      border-radius: 8px;
    }
    .materias {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }
    .materia {
      flex: 1 1 200px;
      padding: 16px;
      border-radius: 10px;
      background: #fce4ec;
      box-shadow: 0 2px 8px rgba(252, 228, 236, 0.7);
      opacity: 0.5;
      transition: all 0.2s;
      cursor: not-allowed;
      text-align: center;
    }
    .materia.desbloqueada {
      opacity: 1;
      cursor: pointer;
      border: 2px solid #f48fb1;
    }
    .materia.aprobada {
      background: #f8bbd0;
      color: #4a235a;
      text-decoration: line-through;
    }
    .leyenda, .progreso-container, .promedio-container {
      background: #fce4ec;
      margin: 20px auto;
      padding: 14px;
      border-radius: 10px;
      max-width: 800px;
      color: #6a1b9a;
    }
    .cuadro {
      width: 14px;
      height: 14px;
      display: inline-block;
      margin-right: 6px;
      border-radius: 3px;
      border: 1px solid #c2185b;
    }
    .l1 { background: #fce4ec; }
    .l2 { background: #f8bbd0; }
    .l3 { background: #e0e0e0; }
  </style>
</head>
<body>
  <header>AbogacÃ­a - UNT âœ¨</header>
  <div class="leyenda">
    <span><span class="cuadro l1"></span> Desbloqueada</span>
    <span><span class="cuadro l2"></span> Aprobada</span>
    <span><span class="cuadro l3"></span> Bloqueada</span>
  </div>
  <div class="malla-container" id="mallaContainer"></div>
  <div class="progreso-container" id="progreso"></div>
  <div class="promedio-container" id="promedio"></div>

  <script>
    const materias = [
    / 1er AÃ±o
    {anio:1, nombre: "Contenidos Transversales para la ConstrucciÃ³n de la CiudadanÃ­a", tipo: "oblig", anio: 1, cuatri: 1, correl: [] },
    {anio:1, nombre: "Historia del Pensamiento PolÃ­tico y JurÃ­dico", tipo: "oblig", anio: 1, cuatri: 1, correl: [] },
    {anio:1, nombre: "TeorÃ­a del Derecho y la Justicia", tipo: "oblig", anio: 1, cuatri: 2, correl: [] },
    {anio:1, nombre: "TeorÃ­a del Estado", tipo: "oblig", anio: 1, cuatri: 2, correl: [] },
    {anio:1, nombre: "Nociones de EconomÃ­a", tipo: "oblig", anio: 1, cuatri: 2, correl: [] },
    {anio:1, nombre: "Destrezas I: InvestigaciÃ³n y Escritura JurÃ­dicas BÃ¡sicas", tipo: "destrezas", anio: 1, cuatri: 2, correl: [] },

    // 2do AÃ±o
    {anio:2, nombre: "LÃ³gica", tipo: "oblig", anio: 2, cuatri: 1, correl: ["Contenidos Transversales para la ConstrucciÃ³n de la CiudadanÃ­a", "Historia del Pensamiento PolÃ­tico y JurÃ­dico", "TeorÃ­a del Derecho y la Justicia"] },
    {anio:2, nombre: "Derecho Privado: TeorÃ­a de la Rel. JurÃ­d. y de la Persona", tipo: "oblig", anio: 2, cuatri: 1, correl: ["Contenidos Transversales para la ConstrucciÃ³n de la CiudadanÃ­a","TeorÃ­a del Derecho y la Justicia", "Nociones de EconomÃ­a","Destrezas I: InvestigaciÃ³n y Escritura JurÃ­dicas BÃ¡sicas"] },
    {anio:2, nombre: "Derecho Penal I Parte General", tipo: "oblig", anio: 2, cuatri: 2, correl: ["Derecho Constitucional"] },
    {anio:2, nombre: "Derecho Constitucional", tipo: "oblig", anio: 2, cuatri: 1, correl: ["Contenidos Transversales para la ConstrucciÃ³n de la CiudadanÃ­a", "Historia del Pensamiento PolÃ­tico y JurÃ­dico", "TeorÃ­a del Estado", "TeorÃ­a del Derecho y la Justicia"] },
    {anio:2, nombre: "Obligaciones Civiles y Comerciales", tipo: "oblig", anio: 2, cuatri: 2, correl: ["Derecho Privado: TeorÃ­a de la Rel. JurÃ­d. y de la Persona"] },
    {anio:2, nombre: "Nociones de SociologÃ­a", tipo: "oblig", anio: 2, cuatri: 2, correl: ["Contenidos Transversales para la ConstrucciÃ³n de CiudadanÃ­a", "Historia del Pensamiento PolÃ­tico y JurÃ­dico", "TeorÃ­a del Estado"] },

    // 3er AÃ±o
    {anio:3,nombre: "Contratos", tipo: "oblig", anio: 3, cuatri: 1, correl: ["Obligaciones Civiles y Comerciales"] },
    {anio:3, nombre: "Derecho Penal II Parte Especial", tipo: "oblig", anio: 3, cuatri: 1, correl: ["Derecho Penal I Parte General"] },
    {anio:3, nombre: "Optativa I", tipo: "optativa", anio: 3, cuatri: 1, correl: [] },
    {anio:3, nombre: "Derecho Procesal I: TeorÃ­a General del Proceso y Proceso Penal", tipo: "oblig", anio: 3, cuatri: 2, correl: ["Derecho Constitucional", "Derecho Privado: TeorÃ­a de la Rel. JurÃ­d. y de la Persona", "Derecho Penal II Parte Especial"] },
    {anio:3, nombre: "Derecho de la Empresa y los Negocios", tipo: "oblig", anio: 3, cuatri: 2, correl: ["Contratos"] },
    {anio:3, nombre: "Derechos Humanos", tipo: "oblig", anio: 3, cuatri: 2, correl: ["Derecho Constitucional"] },
    {anio:3, nombre: "Destrezas II: ArgumentaciÃ³n Oral y Escrita", tipo: "destrezas", anio: 3, cuatri: 2, correl: ["Destrezas I: InvestigaciÃ³n y Escritura JurÃ­dicas BÃ¡sicas","LÃ³gica","Nociones de SociologÃ­a"] },


    // 4to AÃ±o
    {anio:4, nombre: "Derecho Societario y Derecho Cambiario", tipo: "oblig", anio: 4, cuatri: 1, correl: ["Derecho de la Empresa y los Negocios"] },
    {anio:4, nombre: "Derecho Procesal II: Proceso Civil y Comercial", tipo: "oblig", anio: 4, cuatri: 1, correl: ["Derecho Procesal I: TeorÃ­a General del Proceso y Proceso Penal", "Obligaciones Civiles y Comerciales"] },
    {anio:4, nombre: "Derecho Ambiental", tipo: "oblig", anio: 4, cuatri: 1, correl: ["Derecho Constitucional", "Contratos"] },
    {anio:4, nombre: "Optativa II", tipo: "optativa", anio: 4, cuatri: 1, correl: [] },
    {anio:4, nombre: "Derecho Reales", tipo: "oblig", anio: 4, cuatri: 2, correl: ["Derecho Constitucional", "Contratos"] },
    {anio:4, nombre: "Derechos del Consumidor", tipo: "oblig", anio: 4, cuatri: 2, correl: ["Derecho Constitucional", "Contratos"] },
    {anio:4, nombre: "Destrezas III: InvestigaciÃ³n JurÃ­dica", tipo: "destrezas", anio: 4, cuatri: 2, correl: ["Obligaciones Civiles y Comerciales", "Destrezas II: ArgumentaciÃ³n Oral y Escrita", "Derecho Penal I Parte General"] },
    {anio:4, nombre: "Derecho del trabajo y derecho de la seguridad social", tipo: "oblig", anio:4, cuatri:2, correl: ["Derecho Constitucional", "Contratos"] },
    

    // 5to AÃ±o
    {anio:5, nombre: "FilosofÃ­a del Derecho", tipo: "oblig", anio: 5, cuatri: 1, correl: ["Derechos Humanos","Nociones de SociologÃ­a"] },
    {anio:5, nombre: "Derecho de Familia y de las Sucesiones", tipo: "oblig", anio: 5, cuatri: 1, correl: ["Derecho Reales","Derecho Procesal I: TeorÃ­a General del Proceso y Proceso Penal"] },
    {anio:5, nombre: "Derecho del Transporte", tipo: "oblig", anio: 5, cuatri: 1, correl: ["Derecho de la Empresa y los Negocios"] },
    {anio:5, nombre: "Derecho Administrativo", tipo: "oblig", anio: 5, cuatri: 2, correl: ["derechos reales", "Derecho Procesal II: Proceso Civil y Comercial"] },
    {anio:5, nombre: "Optativa III", tipo: "optativa", anio: 5, cuatri: 2, correl: [] },
    {anio:5, nombre: "concursos y privilegios", tipo: "oblig", anio: 5, cuatri: 2, correl: ["Derecho Societario y Derecho Cambiario",  "Derecho Procesal I: TeorÃ­a General del Proceso y Proceso Penal"] },
    {anio:5, nombre: "Destrezas IV: Habilidades para el Litigio", tipo: "destrezas", anio: 5, cuatri: 2, correl: ["Destrezas III: InvestigaciÃ³n JurÃ­dica", "Contratos", "Derecho Procesal I: TeorÃ­a General del Proceso y Proceso Penal"] },

    // 6to AÃ±o
    {anio:6,  nombre: "Derecho Internacional PÃºblico y Politica exterior", tipo: "oblig", anio: 6, cuatri: 1, correl: ["Derechos humanos"] },
    {anio:6,  nombre: "Derecho Tributario y Derecho Financiero", tipo: "oblig", anio: 6, cuatri: 1, correl: ["Derecho Administrativo"] },
    {anio:6,  nombre: "Optativa IV", tipo: "optativa", anio: 6, cuatri: 1, correl: [] },
    {anio:6,  nombre: "optativa V", tipo: "optativa", anio: 6, cuatri: 2, correl: [] },
    {anio:6,  nombre: "Destrezas V: PrÃ¡ctica Profesional Aplicada", tipo: "destrezas", anio: 6, cuatri: 1, correl: ["Derecho de Familia y de las Sucesiones", "Derecho Procesal II: Proceso Civil y Comercial","Destrezas IV: Habilidades para el Litigio"] },
    {anio:6,  nombre: "Derecho Internacional Privado", tipo: "oblig", anio: 6, cuatri: 2, correl: ["Derecho de Familia y de las Sucesiones","concursos y privilegios"] },
    ];

    const STORAGE_KEY = "materias_aprobadas";
    const NOTAS_KEY = "materias_notas";

    function guardar(ids, notas) {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(ids));
      localStorage.setItem(NOTAS_KEY, JSON.stringify(notas));
    }

    function cargar() {
      return {
        aprobadas: JSON.parse(localStorage.getItem(STORAGE_KEY)) || [],
        notas: JSON.parse(localStorage.getItem(NOTAS_KEY)) || {}
      };
    }

    function puedeDesbloquear(m, aprobadas) {
      return m.correl.every(id => aprobadas.includes(id));
    }

    function render() {
      const { aprobadas, notas } = cargar();
      const cont = document.getElementById("mallaContainer");
      cont.innerHTML = "";
      for (let anio = 1; anio <= 6; anio++) {
        const aÃ±oMaterias = materias.filter(m => m.anio === anio);
        if (aÃ±oMaterias.length === 0) continue;
        const div = document.createElement("div");
        div.innerHTML = `<h2>${anio}Â° AÃ±o</h2><div class="materias"></div>`;
        const matDiv = div.querySelector(".materias");

        aÃ±oMaterias.forEach(m => {
          const el = document.createElement("div");
          el.className = "materia";
          el.textContent = m.nombre;
          if (aprobadas.includes(m.id)) {
            el.classList.add("aprobada", "desbloqueada");
          } else if (puedeDesbloquear(m, aprobadas)) {
            el.classList.add("desbloqueada");
            el.onclick = () => {
              const nota = prompt("Â¿QuÃ© nota obtuviste? (usa punto: 7.5)");
              if (nota && !isNaN(parseFloat(nota))) {
                aprobadas.push(m.id);
                notas[m.id] = parseFloat(nota);
                guardar(aprobadas, notas);
                render();
              }
            };
          }
          matDiv.appendChild(el);
        });

        cont.appendChild(div);
      }

      // progreso
      const desbloqueadas = materias.filter(m => puedeDesbloquear(m, aprobadas)).length;
      const bloqueadas = materias.length - desbloqueadas;
      const progreso = document.getElementById("progreso");
      progreso.innerHTML = `
        <h3>ðŸ“Š Progreso</h3>
        <p>Aprobadas: ${aprobadas.length}</p>
        <p>Desbloqueadas: ${desbloqueadas}</p>
        <p>Bloqueadas: ${bloqueadas}</p>
        <p>Porcentaje Completado: ${((aprobadas.length / materias.length) * 100).toFixed(1)}%</p>
      `;

      // promedio
      const notasArray = Object.values(notas);
      const promedio = document.getElementById("promedio");
      if (notasArray.length > 0) {
        const suma = notasArray.reduce((a, b) => a + b, 0);
        const max = Math.max(...notasArray);
        const min = Math.min(...notasArray);
        promedio.innerHTML = `
          <h3>ðŸŽ“ Promedio</h3>
          <p>Promedio General: ${(suma / notasArray.length).toFixed(2)}</p>
          <p>Nota mÃ¡s alta: ${max}</p>
          <p>Nota mÃ¡s baja: ${min}</p>
        `;
      } else {
        promedio.innerHTML = `<h3>ðŸŽ“ Promedio</h3><p>AÃºn no hay notas cargadas<

     

